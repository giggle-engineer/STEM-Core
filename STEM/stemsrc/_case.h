case 0x00: DEC(R[P]) ; IDLEFLAG = 1;break;
case 0x01: D = READ(R[1]);break;
case 0x02: D = READ(R[2]);break;
case 0x03: D = READ(R[3]);break;
case 0x04: D = READ(R[4]);break;
case 0x05: D = READ(R[5]);break;
case 0x06: D = READ(R[6]);break;
case 0x07: D = READ(R[7]);break;
case 0x08: D = READ(R[8]);break;
case 0x09: D = READ(R[9]);break;
case 0x0a: D = READ(R[10]);break;
case 0x0b: D = READ(R[11]);break;
case 0x0c: D = READ(R[12]);break;
case 0x0d: D = READ(R[13]);break;
case 0x0e: D = READ(R[14]);break;
case 0x0f: D = READ(R[15]);break;
case 0x10: INC(R[0]);break;
case 0x11: INC(R[1]);break;
case 0x12: INC(R[2]);break;
case 0x13: INC(R[3]);break;
case 0x14: INC(R[4]);break;
case 0x15: INC(R[5]);break;
case 0x16: INC(R[6]);break;
case 0x17: INC(R[7]);break;
case 0x18: INC(R[8]);break;
case 0x19: INC(R[9]);break;
case 0x1a: INC(R[10]);break;
case 0x1b: INC(R[11]);break;
case 0x1c: INC(R[12]);break;
case 0x1d: INC(R[13]);break;
case 0x1e: INC(R[14]);break;
case 0x1f: INC(R[15]);break;
case 0x20: DEC(R[0]);break;
case 0x21: DEC(R[1]);break;
case 0x22: DEC(R[2]);break;
case 0x23: DEC(R[3]);break;
case 0x24: DEC(R[4]);break;
case 0x25: DEC(R[5]);break;
case 0x26: DEC(R[6]);break;
case 0x27: DEC(R[7]);break;
case 0x28: DEC(R[8]);break;
case 0x29: DEC(R[9]);break;
case 0x2a: DEC(R[10]);break;
case 0x2b: DEC(R[11]);break;
case 0x2c: DEC(R[12]);break;
case 0x2d: DEC(R[13]);break;
case 0x2e: DEC(R[14]);break;
case 0x2f: DEC(R[15]);break;
case 0x30: SHORTBRANCH(1);break;
case 0x31: SHORTBRANCH(Q != 0);break;
case 0x32: SHORTBRANCH(D == 0);break;
case 0x33: SHORTBRANCH(DF != 0);break;
case 0x34: SHORTBRANCH(EF[0] != 0);break;
case 0x35: SHORTBRANCH(EF[1] != 0);break;
case 0x36: SHORTBRANCH(EF[2] != 0);break;
case 0x37: SHORTBRANCH(EF[3] != 0);break;
case 0x38: SHORTBRANCH(0);break;
case 0x39: SHORTBRANCH(Q == 0);break;
case 0x3a: SHORTBRANCH(D != 0);break;
case 0x3b: SHORTBRANCH(DF == 0);break;
case 0x3c: SHORTBRANCH(EF[0] == 0);break;
case 0x3d: SHORTBRANCH(EF[1] == 0);break;
case 0x3e: SHORTBRANCH(EF[2] == 0);break;
case 0x3f: SHORTBRANCH(EF[3] == 0);break;
case 0x40: D = READ(R[0]) ; INC(R[0]);break;
case 0x41: D = READ(R[1]) ; INC(R[1]);break;
case 0x42: D = READ(R[2]) ; INC(R[2]);break;
case 0x43: D = READ(R[3]) ; INC(R[3]);break;
case 0x44: D = READ(R[4]) ; INC(R[4]);break;
case 0x45: D = READ(R[5]) ; INC(R[5]);break;
case 0x46: D = READ(R[6]) ; INC(R[6]);break;
case 0x47: D = READ(R[7]) ; INC(R[7]);break;
case 0x48: D = READ(R[8]) ; INC(R[8]);break;
case 0x49: D = READ(R[9]) ; INC(R[9]);break;
case 0x4a: D = READ(R[10]) ; INC(R[10]);break;
case 0x4b: D = READ(R[11]) ; INC(R[11]);break;
case 0x4c: D = READ(R[12]) ; INC(R[12]);break;
case 0x4d: D = READ(R[13]) ; INC(R[13]);break;
case 0x4e: D = READ(R[14]) ; INC(R[14]);break;
case 0x4f: D = READ(R[15]) ; INC(R[15]);break;
case 0x50: WRITE(R[0],D);break;
case 0x51: WRITE(R[1],D);break;
case 0x52: WRITE(R[2],D);break;
case 0x53: WRITE(R[3],D);break;
case 0x54: WRITE(R[4],D);break;
case 0x55: WRITE(R[5],D);break;
case 0x56: WRITE(R[6],D);break;
case 0x57: WRITE(R[7],D);break;
case 0x58: WRITE(R[8],D);break;
case 0x59: WRITE(R[9],D);break;
case 0x5a: WRITE(R[10],D);break;
case 0x5b: WRITE(R[11],D);break;
case 0x5c: WRITE(R[12],D);break;
case 0x5d: WRITE(R[13],D);break;
case 0x5e: WRITE(R[14],D);break;
case 0x5f: WRITE(R[15],D);break;
case 0x60: INC(R[X]);break;
case 0x61: OUTPORT(1,READ(R[X])) ; INC(R[X]);break;
case 0x62: OUTPORT(2,READ(R[X])) ; INC(R[X]);break;
case 0x63: OUTPORT(3,READ(R[X])) ; INC(R[X]);break;
case 0x64: OUTPORT(4,READ(R[X])) ; INC(R[X]);break;
case 0x65: OUTPORT(5,READ(R[X])) ; INC(R[X]);break;
case 0x66: OUTPORT(6,READ(R[X])) ; INC(R[X]);break;
case 0x67: OUTPORT(7,READ(R[X])) ; INC(R[X]);break;
case 0x68: {};break;
case 0x69: D = INPORT(1); WRITE(R[X],D);break;
case 0x6a: D = INPORT(2); WRITE(R[X],D);break;
case 0x6b: D = INPORT(3); WRITE(R[X],D);break;
case 0x6c: D = INPORT(4); WRITE(R[X],D);break;
case 0x6d: D = INPORT(5); WRITE(R[X],D);break;
case 0x6e: D = INPORT(6); WRITE(R[X],D);break;
case 0x6f: D = INPORT(7); WRITE(R[X],D);break;
case 0x70: Temp = READ(R[X]) ; INC(R[X]) ; X = (Temp >> 4) ; P = (Temp & 0x0F) ; IE = (1-0);break;
case 0x71: Temp = READ(R[X]) ; INC(R[X]) ; X = (Temp >> 4) ; P = (Temp & 0x0F) ; IE = (1-1);break;
case 0x72: D = READ(R[X]) ; INC(R[X]);break;
case 0x73: WRITE(R[X],D) ; DEC(R[X]);break;
case 0x74: ADD(D,READ(R[X]),DF);break;
case 0x75: SUB(READ(R[X]),D,DF);break;
case 0x76: SHRC;break;
case 0x77: SUB(D,READ(R[X]),DF);break;
case 0x78: WRITE(R[X],T);break;
case 0x79: T = (X << 4) | P ; WRITE(R[2],T) ; X = P ; DEC(R[2]);break;
case 0x7a: Q = 0;break;
case 0x7b: Q = 1;break;
case 0x7c: ADD(D,FETCH,DF);break;
case 0x7d: SUB(FETCH,D,DF);break;
case 0x7e: SHLC;break;
case 0x7f: SUB(D,FETCH,DF);break;
case 0x80: D = R[0] & 0xFF;break;
case 0x81: D = R[1] & 0xFF;break;
case 0x82: D = R[2] & 0xFF;break;
case 0x83: D = R[3] & 0xFF;break;
case 0x84: D = R[4] & 0xFF;break;
case 0x85: D = R[5] & 0xFF;break;
case 0x86: D = R[6] & 0xFF;break;
case 0x87: D = R[7] & 0xFF;break;
case 0x88: D = R[8] & 0xFF;break;
case 0x89: D = R[9] & 0xFF;break;
case 0x8a: D = R[10] & 0xFF;break;
case 0x8b: D = R[11] & 0xFF;break;
case 0x8c: D = R[12] & 0xFF;break;
case 0x8d: D = R[13] & 0xFF;break;
case 0x8e: D = R[14] & 0xFF;break;
case 0x8f: D = R[15] & 0xFF;break;
case 0x90: D = (R[0] >> 8) & 0xFF;break;
case 0x91: D = (R[1] >> 8) & 0xFF;break;
case 0x92: D = (R[2] >> 8) & 0xFF;break;
case 0x93: D = (R[3] >> 8) & 0xFF;break;
case 0x94: D = (R[4] >> 8) & 0xFF;break;
case 0x95: D = (R[5] >> 8) & 0xFF;break;
case 0x96: D = (R[6] >> 8) & 0xFF;break;
case 0x97: D = (R[7] >> 8) & 0xFF;break;
case 0x98: D = (R[8] >> 8) & 0xFF;break;
case 0x99: D = (R[9] >> 8) & 0xFF;break;
case 0x9a: D = (R[10] >> 8) & 0xFF;break;
case 0x9b: D = (R[11] >> 8) & 0xFF;break;
case 0x9c: D = (R[12] >> 8) & 0xFF;break;
case 0x9d: D = (R[13] >> 8) & 0xFF;break;
case 0x9e: D = (R[14] >> 8) & 0xFF;break;
case 0x9f: D = (R[15] >> 8) & 0xFF;break;
case 0xa0: R[0] = (R[0] & 0xFF00) | D;break;
case 0xa1: R[1] = (R[1] & 0xFF00) | D;break;
case 0xa2: R[2] = (R[2] & 0xFF00) | D;break;
case 0xa3: R[3] = (R[3] & 0xFF00) | D;break;
case 0xa4: R[4] = (R[4] & 0xFF00) | D;break;
case 0xa5: R[5] = (R[5] & 0xFF00) | D;break;
case 0xa6: R[6] = (R[6] & 0xFF00) | D;break;
case 0xa7: R[7] = (R[7] & 0xFF00) | D;break;
case 0xa8: R[8] = (R[8] & 0xFF00) | D;break;
case 0xa9: R[9] = (R[9] & 0xFF00) | D;break;
case 0xaa: R[10] = (R[10] & 0xFF00) | D;break;
case 0xab: R[11] = (R[11] & 0xFF00) | D;break;
case 0xac: R[12] = (R[12] & 0xFF00) | D;break;
case 0xad: R[13] = (R[13] & 0xFF00) | D;break;
case 0xae: R[14] = (R[14] & 0xFF00) | D;break;
case 0xaf: R[15] = (R[15] & 0xFF00) | D;break;
case 0xb0: R[0] = (R[0] & 0x00FF) | (D << 8);break;
case 0xb1: R[1] = (R[1] & 0x00FF) | (D << 8);break;
case 0xb2: R[2] = (R[2] & 0x00FF) | (D << 8);break;
case 0xb3: R[3] = (R[3] & 0x00FF) | (D << 8);break;
case 0xb4: R[4] = (R[4] & 0x00FF) | (D << 8);break;
case 0xb5: R[5] = (R[5] & 0x00FF) | (D << 8);break;
case 0xb6: R[6] = (R[6] & 0x00FF) | (D << 8);break;
case 0xb7: R[7] = (R[7] & 0x00FF) | (D << 8);break;
case 0xb8: R[8] = (R[8] & 0x00FF) | (D << 8);break;
case 0xb9: R[9] = (R[9] & 0x00FF) | (D << 8);break;
case 0xba: R[10] = (R[10] & 0x00FF) | (D << 8);break;
case 0xbb: R[11] = (R[11] & 0x00FF) | (D << 8);break;
case 0xbc: R[12] = (R[12] & 0x00FF) | (D << 8);break;
case 0xbd: R[13] = (R[13] & 0x00FF) | (D << 8);break;
case 0xbe: R[14] = (R[14] & 0x00FF) | (D << 8);break;
case 0xbf: R[15] = (R[15] & 0x00FF) | (D << 8);break;
case 0xc0: LONGBRANCH(1);break;
case 0xc1: LONGBRANCH(Q != 0);break;
case 0xc2: LONGBRANCH(D == 0);break;
case 0xc3: LONGBRANCH(DF != 0);break;
case 0xc4: Cycles--;break;
case 0xc5: LONGSKIP(Q == 0);break;
case 0xc6: LONGSKIP(D != 0);break;
case 0xc7: LONGSKIP(DF == 0);break;
case 0xc8: LONGBRANCH(0);break;
case 0xc9: LONGBRANCH(Q == 0);break;
case 0xca: LONGBRANCH(D != 0);break;
case 0xcb: LONGBRANCH(DF == 0);break;
case 0xcc: LONGSKIP(IE != 0);break;
case 0xcd: LONGSKIP(Q != 0);break;
case 0xce: LONGSKIP(D == 0);break;
case 0xcf: LONGSKIP(DF != 0);break;
case 0xd0: P = 0;break;
case 0xd1: P = 1;break;
case 0xd2: P = 2;break;
case 0xd3: P = 3;break;
case 0xd4: P = 4;break;
case 0xd5: P = 5;break;
case 0xd6: P = 6;break;
case 0xd7: P = 7;break;
case 0xd8: P = 8;break;
case 0xd9: P = 9;break;
case 0xda: P = 10;break;
case 0xdb: P = 11;break;
case 0xdc: P = 12;break;
case 0xdd: P = 13;break;
case 0xde: P = 14;break;
case 0xdf: P = 15;break;
case 0xe0: X = 0;break;
case 0xe1: X = 1;break;
case 0xe2: X = 2;break;
case 0xe3: X = 3;break;
case 0xe4: X = 4;break;
case 0xe5: X = 5;break;
case 0xe6: X = 6;break;
case 0xe7: X = 7;break;
case 0xe8: X = 8;break;
case 0xe9: X = 9;break;
case 0xea: X = 10;break;
case 0xeb: X = 11;break;
case 0xec: X = 12;break;
case 0xed: X = 13;break;
case 0xee: X = 14;break;
case 0xef: X = 15;break;
case 0xf0: D = READ(R[X]);break;
case 0xf1: D = D | READ(R[X]);break;
case 0xf2: D = D & READ(R[X]);break;
case 0xf3: D = D ^ READ(R[X]);break;
case 0xf4: ADD(D,READ(R[X]),0);break;
case 0xf5: SUB(READ(R[X]),D,1);break;
case 0xf6: SHR;break;
case 0xf7: SUB(D,READ(R[X]),1);break;
case 0xf8: D = FETCH;break;
case 0xf9: D = D | FETCH;break;
case 0xfa: D = D & FETCH;break;
case 0xfb: D = D ^ FETCH;break;
case 0xfc: ADD(D,FETCH,0);break;
case 0xfd: SUB(FETCH,D,1);break;
case 0xfe: SHL;break;
case 0xff: SUB(D,FETCH,1);break;
